---
title: C/C++ 数据类型类型转化（360笔试题）
---

这里记录一个360的2017笔试题，并且说一下自己的想法。（简单题型）

<!--more-->

## 题目描述									
小明同学最近学习了概率论，他了解到数学期望的定义：设X为一个随机变量，X可以取n种不同的取值x1,x2,x3,…,xn。取x1的概率为p1,取x2的概率为p2,以此类推。定义随机变量X的数学期望为：E[X]=x1* p1+x2\*p2+…+xn*pn。  
小明回到家中，他想编程计算数学期望，你能帮助他么？


>**输入**    
>输入第一行一个数n(1<=n<=100)，接下来有n行，第i行有两个数xi和pi，xi和pi都是整数，-100<=xi<=100, 0<=pi<=100。表示随机变量X取值为xi的概率是pi/100。输入保证p1+p2+p3+…+pn=100。  
> 
> **输出**  
> 输出一个数，随机变量X的数学期望E[x]，小数点后四舍五入保留3位。

    样例输入
    3
    0 50
    1 20
    2 30
    
    样例输出
    0.800

## 解决办法

该题其实很简单的数学运算，主要考察的是一些类型转化的注意点，由于自己好久没用c/c++结果也掉坑里面了。  
当然我要是用js可能就不用考虑了，因为对于js来说，数字只有一个类型那就是number，它其实所有数字都用double存储的，再看你需要进行输出。

C语言：


```C
/*当分子小于分母的时候，需要浮点数能得到非零结果，整型得到0*/
#include <stdio.h>
int main()
{
   int n, a, b;
   float result=0.000;
   scanf("%d",&n);
   while(scanf("%d%d", &a, &b) != EOF){
      //如果改为(float)(a*b)/100 同样可能使得结果变成0
      result = result + ((float)(a*b))/100;             
   }
   printf("%.3f", result);

}
```

给个官方标准答案，可以学习一下：

```C
#include <bits/stdc++.h>
using namespace std;
int main(){
	int n;
	scanf("%d", &n);
	double ans = 0;
	for(int i = 0; i < n; i++){
		int x, p;
		scanf("%d%d", &x, &p);
		ans += 1.0 * x * p / 100;
	}
	printf("%.3f\n", ans);
	//system("pause");
	return 0;
}
```